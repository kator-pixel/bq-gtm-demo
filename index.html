<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NTTPQV59');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BigQuery × GTM データ分析ソリューション</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }

        .chat-container {
            transition: all 0.3s ease-in-out;
            transform: translateY(120%);
            opacity: 0;
        }

        .chat-container.open {
            transform: translateY(0);
            opacity: 1;
        }

        /* Loading Spinner */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #2563eb;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Chat Options */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        .option-btn {
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1d4ed8;
            padding: 8px 12px;
            border-radius: 20px;
            text-align: left;
            font-size: 0.875rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .option-btn:hover {
            background-color: #dbeafe;
            border-color: #93c5fd;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTTPQV59" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


    <!-- Header -->
    <header class="bg-white shadow-md fixed w-full z-10">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-blue-700">DataSync Pro</div>
            <nav class="hidden md:flex space-x-6">
                <a href="#features" class="hover:text-blue-600">特徴</a>
                <a href="#process" class="hover:text-blue-600">仕組み</a>
                <a href="#faq" class="hover:text-blue-600">よくある質問</a>
                <a href="#contact"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">お問い合わせ</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 bg-gradient-to-br from-blue-50 to-indigo-100">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
                <span class="text-blue-600">Google Tag Manager</span> と<br>
                <span class="text-indigo-600">BigQuery</span> で<br>
                データ活用の限界を突破する
            </h1>
            <p class="text-lg text-gray-600 mb-10 max-w-2xl mx-auto">
                GA4のサンプリング制限にお悩みですか？生データをBigQueryにエクスポートし、
                SQLによる自由自在な分析環境を構築します。
            </p>
            <div class="flex justify-center gap-4">
                <a href="#contact"
                    class="bg-blue-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-700 shadow-lg transition">
                    無料相談を申し込む
                </a>
                <a href="#features"
                    class="bg-white text-blue-600 px-8 py-3 rounded-lg font-bold border border-blue-200 hover:bg-gray-50 transition">
                    詳細を見る
                </a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">3つの導入メリット</h2>
            <div class="grid md:grid-cols-3 gap-10">
                <div class="p-8 border rounded-xl hover:shadow-xl transition bg-gray-50">
                    <div class="text-4xl text-blue-500 mb-4"><i class="fas fa-database"></i></div>
                    <h3 class="text-xl font-bold mb-3">生データの全量保存</h3>
                    <p class="text-gray-600">GA4のデータ保持期間制限を気にせず、データをBigQueryに半永久的に保存可能です。</p>
                </div>
                <div class="p-8 border rounded-xl hover:shadow-xl transition bg-gray-50">
                    <div class="text-4xl text-indigo-500 mb-4"><i class="fas fa-chart-line"></i></div>
                    <h3 class="text-xl font-bold mb-3">高度なSQL分析</h3>
                    <p class="text-gray-600">GTMで取得したデータをCRMデータや広告データと結合。より深い顧客分析を実現します。</p>
                </div>
                <div class="p-8 border rounded-xl hover:shadow-xl transition bg-gray-50">
                    <div class="text-4xl text-green-500 mb-4"><i class="fas fa-bolt"></i></div>
                    <h3 class="text-xl font-bold mb-3">リアルタイム処理</h3>
                    <p class="text-gray-600">サーバーサイドGTMを活用し、欠損を防ぎつつ高速にデータウェアハウスへ転送します。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-blue-900 text-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-6">データ基盤の構築をご検討中の方へ</h2>
            <button
                class="bg-white text-blue-900 px-10 py-4 rounded-lg font-bold hover:bg-gray-100 transition shadow-lg">
                お問い合わせフォームへ
            </button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8 text-center text-sm">
        <p>&copy; 2023 DataSync Pro. All Rights Reserved.</p>
    </footer>

    <!-- ==========================================
         MARKDOWN-BASED CHATBOT (CLIENT SIDE RAG)
    ========================================== -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        <div id="chat-window"
            class="chat-container hidden bg-white w-80 h-96 rounded-2xl shadow-2xl flex flex-col border border-gray-200 mb-4 overflow-hidden">
            <div class="bg-blue-600 text-white p-4 flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <i class="fas fa-robot"></i>
                    <span class="font-bold text-sm">BigQueryエキスパートAI</span>
                </div>
                <button onclick="toggleChat()" class="text-blue-100 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div id="chat-messages" class="flex-1 p-4 overflow-y-auto text-sm space-y-3 bg-gray-50">
                <div class="flex items-start gap-2">
                    <div class="bg-white border border-gray-200 p-3 rounded-lg rounded-tl-none shadow-sm max-w-[90%]">
                        こんにちは！BigQueryやGTM連携について、知識ベースから回答します。<br>
                        <span id="status-indicator" class="text-xs text-blue-400 mt-2 block">
                            <div class="loader"></div> 知識データを読込中...
                        </span>
                    </div>
                </div>
            </div>

            <div class="p-3 bg-white border-t border-gray-200 flex gap-2">
                <input type="text" id="user-input"
                    class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500"
                    placeholder="質問を入力...">
                <button onclick="sendMessage()"
                    class="bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <button onclick="toggleChat()"
            class="bg-blue-600 hover:bg-blue-700 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-2xl transition transform hover:scale-110">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <script>
        // Data Layer Initialization
        window.dataLayer = window.dataLayer || [];

        // --- 1. Markdown Data (Embedded for local execution) ---
        const KNOWLEDGE_DATA = `
# リスティング / SNS広告

一歩先行くリスティング広告運用を。  
BigQuery + GA4 による、科学的な Web 戦略サポート。

---

## リスティング広告とは

リスティング広告は、ユーザーが検索したキーワードに合わせて  
検索結果ページに表示される「検索連動型の広告」です。

- 興味・関心が高い人にだけ広告を出しやすい
- 少額からでもスタートでき、費用対効果を検証しやすい
- 配信を開始してから成果が出るまでが比較的早い

一方で、  
「なんとなく出しているだけ」だと競合に差をつけられず、  
入札やキーワード、ランディングページの改善など、継続的な運用が欠かせません。

ドコドアでは、リスティング広告に加え P-Max や Demand Generation など、  
最新の広告プロダクトにも対応し、  
BigQuery と GA4 を統合したデータ分析で、精度の高いマーケティング施策を設計・運用します。

---

## Strength  
### ドコドアのリスティング / SNS広告運用の強み

1. **徹底したデータ検証にもとづく運用**

   - GA4 と BigQuery を組み合わせた計測設計  
   - キーワード・クリエイティブ・ランディングページごとの成果を細かく分析  
   - 勘や経験だけに頼らず、データを根拠に改善を繰り返す運用体制

2. **少ない予算からでもスタート可能**

   - 中小企業・地方企業でも試しやすいスモールスタートに対応  
   - 予算の範囲で最大限成果を出すための配分設計  
   - 成果が見えた領域から、徐々に投資を拡大するステップ設計

3. **Google Partner としての最新ノウハウ**

   - Google 広告の認定資格保有者が運用を担当  
   - P-Max や Demand Generation など、新しいキャンペーンタイプも活用  
   - 仕様変更や新機能のキャッチアップを前提にした運用ポリシー

---

## Benefit  
### ドコドアの運用で支援できること

1. **マーケティングエンジニアによる科学的な分析**

   - セッション単位・ユーザー単位での行動分析  
   - 「どのチャネルから来た人が、どのページで離脱しているか」などを細かく可視化  
   - 広告だけでなくサイト全体の改善につながる示唆を提供

2. **ターゲット顧客への的確なアプローチ**

   - ペルソナに基づいたキーワード戦略とオーディエンス設定  
   - 検索キャンペーンと P-Max・Demand Gen・SNS 広告を組み合わせた面のアプローチ  
   - 検索の「顕在層」と、動画やフィードでの「潜在層」を一気通貫でカバー

3. **広告費用対効果の向上**

   - コンバージョン単価（CPA）や ROAS を軸にした指標設計  
   - 入札戦略のチューニングと無駄クリックの削減  
   - クリエイティブとキーワードの AB テストによる継続的な最適化

4. **Google 広告スクリプトによる自動最適化**

   - 特定条件での予算調整や入札調整の自動化  
   - 成果が一定の閾値（しきい値）を下回った場合のアラート・自動停止  
   - 日々の細かいメンテナンスをスクリプトで省力化し、  
     担当者は戦略設計やクリエイティブ改善に集中できるように設計

5. **透明性の高いレポートとコミュニケーション**

   - 定期的な運用レポートの提出  
   - どのような仮説で、何を実施し、どんな結果が出たかをセットで共有  
   - 次の一手や、中長期の戦略も含めて伴走する体制

6. **フルチャネルマーケティングへの展開**

   - P-Max・Demand Gen・SNS 広告・検索広告を組み合わせた設計  
   - クリエイティブ・ランディングページ・計測まで一気通貫でサポート  
   - 企業のフェーズに合わせたチャネルミックス提案

---

## Column  
### マーケティング記事への導線

- 〖リスティング広告を ECサイト運用で利用するなら必読〗  
  EC サイト運用におけるリスティング広告の使い方  
  （ドコドア マーケティング部）

※実際のページでは、上記のような関連コラムページへのリンクが設置されています。

---

## Works  
### 制作実績の一部

リスティング / SNS 広告運用と相性の良い、  
コーポレートサイト・LP・EC サイトなどの制作実績が掲載されています。

- IT サービス系コーポレートサイト
- 展示会集客向け LP
- EC サイト（メーカー直販系）
- 医療機関の病院サイト・特設サイト　など

※詳細は元ページの「制作実績」リンクから一覧が確認できる想定です。

---

## Contact us  

まずはご相談・お問い合わせください。  
（＊ は必須項目です）

### お電話でのお問い合わせ

- 電話番号：025-635-6129  
- 受付時間：9:00–18:00（土日祝休み）  
- コールセンター経由で、営業時間内であれば担当から折り返し

### お問い合わせフォーム項目（例）

- 会社名
- お名前
- メールアドレス
- 都道府県
- お電話番号
- ご検討状況  
  （すぐに制作を進めたい、まずは相談したい、概算見積もりがほしい、資料だけほしい、など）
- ご質問・ご意見
- 個人情報の取り扱いへの同意チェック

---

## 会社情報・対応エリア（要約）

- ドコドアは、新潟・東京・三条・大阪など複数拠点から  
  日本全国のクライアントに対応しています。
- Web 制作・Web マーケティング・DX 支援など、  
  企業のオンライン集客・採用・売上拡大をトータルでサポートする体制です。

© 2025 docodoor Co.,Ltd.
`;

        // --- 2. Logic ---
        let knowledgeChunks = [];
        const statusIndicator = document.getElementById('status-indicator');

        window.addEventListener('DOMContentLoaded', () => {
            try {
                parseMarkdown(KNOWLEDGE_DATA);
                statusIndicator.innerHTML = '<i class="fas fa-check text-green-500"></i> 準備完了';

                // Show options after loading
                setTimeout(() => {
                    showOptions();
                }, 500);

            } catch (error) {
                console.error(error);
                statusIndicator.innerHTML = '<i class="fas fa-exclamation-triangle text-red-500"></i> 読込失敗';
            }
        });

        function parseMarkdown(mdText) {
            const rawSections = mdText.split(/^##\s+/gm);
            knowledgeChunks = rawSections.map(section => {
                const lines = section.trim().split('\n');
                const title = lines[0].replace(/^#+\s*/, '').trim(); // Remove leading hashes if any
                const content = lines.slice(1).join('\n');
                const fullText = (title + "\n" + content).toLowerCase();
                return { title, content, fullText };
            }).filter(chunk => chunk.fullText.length > 5);
        }

        // --- 3. Search Logic ---
        function findBestAnswer(userQuery) {
            if (knowledgeChunks.length === 0) return "知識データを読み込めていません。";
            const query = userQuery.toLowerCase().replace(/[\s　]+/g, ' ').split(' ');
            let bestChunk = null;
            let maxScore = 0;

            knowledgeChunks.forEach(chunk => {
                let score = 0;
                query.forEach(word => {
                    if (chunk.fullText.includes(word)) score += 1;
                });
                if (score > maxScore) {
                    maxScore = score;
                    bestChunk = chunk;
                }
            });

            if (bestChunk && maxScore > 0) {
                return formatAnswer(bestChunk.content);
            } else {
                return "申し訳ありません、資料内にその情報が見つかりませんでした。「費用」や「メリット」について聞いてみてください。";
            }
        }

        function formatAnswer(text) {
            return text.replace(/\*\*(.*?)\*\*/g, '$1').replace(/^-\s/gm, '・').replace(/---/g, '').trim();
        }

        // --- 4. Chat UI Logic ---
        const chatWindow = document.getElementById('chat-window');
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');

        function toggleChat() {
            if (chatWindow.classList.contains('hidden')) {
                chatWindow.classList.remove('hidden');
                setTimeout(() => chatWindow.classList.add('open'), 10);
            } else {
                chatWindow.classList.remove('open');
                setTimeout(() => chatWindow.classList.add('hidden'), 300);
            }
        }
        userInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });

        function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;
            addMessage(text, 'user');
            userInput.value = '';
            setTimeout(() => {
                const answer = findBestAnswer(text);
                addMessage(answer, 'bot');
                // Show options again after answer
                setTimeout(() => {
                    showOptions();
                }, 500);
            }, 600);
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.className = `flex items-start gap-2 ${sender === 'user' ? 'flex-row-reverse' : ''}`;
            const bubble = document.createElement('div');
            bubble.className = `p-3 rounded-lg max-w-[90%] text-sm whitespace-pre-wrap ${sender === 'user' ? 'bg-blue-600 text-white rounded-tr-none' : 'bg-white border border-gray-200 text-gray-800 rounded-tl-none shadow-sm'
                }`;
            bubble.textContent = text;
            div.appendChild(bubble);
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // --- 5. Options Logic ---
        function showOptions() {
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'options-container';

            knowledgeChunks.forEach(chunk => {
                // Skip chunks with empty titles or purely decorative ones if necessary
                if (!chunk.title) return;

                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = chunk.title;
                btn.onclick = () => handleOptionClick(chunk);
                optionsContainer.appendChild(btn);
            });

            // Add options to a bot message bubble or directly to chat
            const div = document.createElement('div');
            div.className = 'flex items-start gap-2';
            const bubble = document.createElement('div');
            bubble.className = 'p-3 rounded-lg max-w-[90%] text-sm bg-white border border-gray-200 text-gray-800 rounded-tl-none shadow-sm';

            const text = document.createElement('p');
            text.textContent = '以下から質問を選択するか、直接入力してください：';
            text.className = 'mb-2';

            bubble.appendChild(text);
            bubble.appendChild(optionsContainer);
            div.appendChild(bubble);
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleOptionClick(chunk) {
            // 1. Show user selection
            addMessage(chunk.title, 'user');

            // 2. Push to Data Layer
            window.dataLayer.push({
                'event': 'chat_option_click',
                'option_label': chunk.title
            });
            console.log('DataLayer Push:', { 'event': 'chat_option_click', 'option_label': chunk.title });

            // 3. Show bot answer
            setTimeout(() => {
                const answer = formatAnswer(chunk.content);
                addMessage(answer, 'bot');

                // 4. Show options again
                setTimeout(() => {
                    showOptions();
                }, 500);
            }, 600);
        }
    </script>
</body>

</html>